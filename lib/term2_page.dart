import 'package:flutter/material.dart';

class Term2Page extends StatelessWidget {
  const Term2Page({super.key});

  final List<Map<String, dynamic>> subjects = const [
    {
      'code': 'GEBIN702',
      'name': 'Innovation and Technology',
      'th': '‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ',
      'credit': 3,
      'grade': 'C+',
      'gp': 7.5,
    },
    {
      'code': 'ENGSE202',
      'name': 'Operating System and Server Configure',
      'th': '‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÇ‡∏Ñ‡∏£‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏°‡πà‡∏Ç‡πà‡∏≤‡∏¢',
      'credit': 3,
      'grade': 'C+',
      'gp': 7.5,
    },
    {
      'code': 'ENGSE203',
      'name': 'Computer Programming for Software Engineer',
      'th': '‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏ã‡∏≠‡∏ü‡∏ï‡πå‡πÅ‡∏ß‡∏£‡πå',
      'credit': 3,
      'grade': 'C+',
      'gp': 7.5,
    },
    {
      'code': 'GEBLC103',
      'name': 'Academic English',
      'th': '‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡πÄ‡∏ä‡∏¥‡∏á‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£',
      'credit': 3,
      'grade': 'A',
      'gp': 12.0,
    },
    {
      'code': 'ENGSE218',
      'name': 'Computer Architecture and Organization',
      'th': '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå',
      'credit': 3,
      'grade': 'C+',
      'gp': 7.5,
    },
    {
      'code': 'ENGSE216',
      'name': 'Data Structures and Algorithms',
      'th': '‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ',
      'credit': 3,
      'grade': 'F',
      'gp': 0.0,
    },
    {
      'code': 'ENGSE206',
      'name': 'Software Requirements Specification and Design',
      'th': '‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏ó‡∏≤‡∏á‡∏ã‡∏≠‡∏ü‡∏ï‡πå‡πÅ‡∏ß‡∏£‡πå',
      'credit': 3,
      'grade': 'B',
      'gp': 9.0,
    },
  ];

  @override
  Widget build(BuildContext context) {
    final int totalCredit = subjects.fold(
      0,
      (sum, item) => sum + item['credit'] as int,
    );
    final double totalGP = subjects.fold(
      0.0,
      (sum, item) => sum + item['gp'] as double,
    );

    return Scaffold(
      appBar: AppBar(
        title: const Text('üìò ‡∏õ‡∏µ 1 ‡πÄ‡∏ó‡∏≠‡∏° 2'),
        backgroundColor: Colors.teal,
      ),
      body: Padding(
        padding: const EdgeInsets.all(16),
        child: Column(
          children: [
            const Text(
              '‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡πÄ‡∏ó‡∏≠‡∏° 2',
              style: TextStyle(fontSize: 22, fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 16),
            Expanded(
              child: ListView.separated(
                itemCount: subjects.length,
                separatorBuilder: (_, __) => const Divider(height: 20),
                itemBuilder: (context, index) {
                  final subject = subjects[index];
                  return Card(
                    shape: RoundedRectangleBorder(
                      borderRadius: BorderRadius.circular(12),
                    ),
                    elevation: 2,
                    child: ListTile(
                      title: Text(
                        '${subject['code']} - ${subject['name']}',
                        style: const TextStyle(fontWeight: FontWeight.bold),
                      ),
                      subtitle: Column(
                        crossAxisAlignment: CrossAxisAlignment.start,
                        children: [
                          Text(subject['th']),
                          const SizedBox(height: 4),
                          Row(
                            children: [
                              Text('‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï: ${subject['credit']}'),
                              const SizedBox(width: 16),
                              Text('‡πÄ‡∏Å‡∏£‡∏î: ${subject['grade']}'),
                              const SizedBox(width: 16),
                              Text('‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ${subject['gp']}'),
                            ],
                          ),
                        ],
                      ),
                    ),
                  );
                },
              ),
            ),
            const Divider(thickness: 2),
            ListTile(
              leading: const Icon(Icons.calculate, color: Colors.teal),
              title: const Text(
                '‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',
                style: TextStyle(fontWeight: FontWeight.bold),
              ),
              subtitle: Text(
                '‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï: $totalCredit | ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: ${totalGP.toStringAsFixed(1)}',
              ),
            ),
          ],
        ),
      ),
    );
  }
}
